"use strict";(self.webpackChunkmodular_creator_app=self.webpackChunkmodular_creator_app||[]).push([[786],{4786:function(e,t,n){n.r(t),n.d(t,{closeDrawer:function(){return E},createModularApp:function(){return g},driveWithDarkMode:function(){return d},isDrawerOpen:function(){return v},openDrawer:function(){return h}});var r=n(7313),o=n(6352),a=n(8572),i=n(529),l=n(8197),c=n(1814),u=function(e,t){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},u(e,t)};var s=function(){return s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},s.apply(this,arguments)},d=function(e){return function(t){var n=(0,o.v9)(a.isInDarkMode);return e(s(s({},t),{dark:n}))}},f=function(e){var t=e.modals;e.namespace;var n=e.store,l=(0,o.v9)(a.getModalType),c=(0,o.v9)(a.isModalVisible),u=l&&t[l]?t[l]:function(){return r.createElement("div",null)},s=d(i.u_);return r.createElement(s,{onClose:function(){return n.dispatch((0,a.closeModal)())},hide:!c},r.createElement(u,null))},p=function(e){var t=e.history,n=e.renderCallback,c=(0,o.v9)(a.getRoutes),u=(0,o.v9)(a.getHomePage);return r.createElement(i.W2,{unstyled:!0,style:{position:"relative",width:"100%",overflow:"auto",height:"100%"}},r.createElement(l.F0,{history:t},r.createElement(l.rs,null,Object.keys(c).map((function(e){return r.createElement(l.AW,{component:n(e),key:e,exact:!0,path:c[e]})})),r.createElement(l.l_,{to:u}))))},m=function(e){function t(t){var n=e.call(this,t)||this;return n.state={hasError:!1},n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}u(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.getDerivedStateFromError=function(e){return{hasError:!0}},t.prototype.componentDidCatch=function(e,t){this.setState({hasError:!0})},t.prototype.render=function(){return this.state.hasError?(window.document.title="Error",this.props.fallback||r.createElement("div",{style:{width:"100vw",height:"100vh",display:"flex",flexDirection:"column"}},r.createElement("div",{style:{margin:"auto"}},r.createElement(i.zx,{style:{fontSize:"3rem",padding:"1rem"},className:"error-button",onClick:function(){window.location.reload()}},"Try again")))):this.props.children},t}(r.Component),h=(0,c.do)("@@ui/OPEN_DRAWER"),E=(0,c.do)("@@ui/CLOSE_DRAWER"),v=(0,c.to)(a.getUIView,(function(e){return e.isDrawerOpen})),y=function(e){var t=e.children,n=e.position,a=(0,o.I0)(),l=(0,o.v9)(v);r.useEffect((function(){if(l){var e=document.getElementById("modular-drawer"),t=document.getElementById("app-container");t&&(t.onclick=function(t){e&&!e.contains(t.target)&&a(E())})}return function(){var e=document.getElementById("app-container");e&&(e.onclick=null)}}),[a,l]);var c=d(i.dy);return r.createElement(c,{hide:!l,onClose:function(){a(E())},position:n},t)},g=function(e){var t=e.creatorConfig,n=e.engineConfig,a=e.store;return function(){return function(e){var t=e.store,n=e.config,a=e.engineConfig;if(t&&n&&a){var l=n.content,c=n.header,u=n.footer,h=n.drawer&&n.drawer.content,E=n.preloader,v=n.drawer?{children:n.drawer.content,position:n.drawer.position}:{},g=d(i.W2);return r.createElement(r.Suspense,{fallback:E?r.createElement(E,null):r.createElement("div",null)},r.createElement(o.zt,{store:t},r.createElement(m,{fallback:n.error},n.modals&&r.createElement(f,{store:t,namespace:n.modalNamepsace,modals:n.modals}),h&&r.createElement(y,s({},v),h&&r.createElement(h,null)),r.createElement("div",{id:"app-container",style:{height:"100vh",width:"100vw",display:"flex",flexDirection:"column",alignItems:"center",overflow:"hidden"}},c&&r.createElement("header",{style:{position:"relative",top:"0",right:"0",left:"0",width:"100%"}},r.createElement(g,null,r.createElement(c,null))),r.createElement(p,{renderCallback:n.pagesRendering||function(e){return function(){return r.createElement("div",null)}},history:a.history}),l&&r.createElement(l,null),u&&r.createElement("footer",{style:{width:"100%",position:"relative",bottom:0,left:"0",right:"0"}},r.createElement(g,null,r.createElement(u,null)))))))}return r.createElement("div",null)}({engineConfig:n,config:t,store:a})}}}}]);